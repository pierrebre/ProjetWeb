{% extends 'base.html.twig' %}

{% block title %}MesColis{% endblock %}


{% block body %}

<h1 class="h2 mb-3 font-weight-normal" style="text-align: center;  margin-top: 80px;"><i class="fas fa-box"></i> <u>Mes Colis</u></h1>
<br>
<table class="table" style="width: 930px; margin-left: auto; margin-right: auto; text-align: center">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Identifiant</th>
      <th scope="col">Adresse de départ</th>
      <th scope="col">Adresse d'arrivé</th>
      <th scope="col">Poids</th>
      <th scope="col">Taille</th>
      <th scope="col">Date d'enregistrement</th>
      <th scope="col">État</th>
    </tr>
  </thead>
  <tbody>
  {% for colis in app.user.getLeColis %}
    <tr>
      <td>{{colis.numero}}</td>
      <td>{{colis.adresseDepart}}</td>
      <td>{{colis.adresseArrivee}}</td>
      <td>{{colis.poids}}</td>
      <td>{{colis.taille}}</td>
      {# <td>{{colis.dateRegister|date("d/m/Y")}} <a  href="#" data-toggle="modal" data-target="#statusModal" data-myvalue="teeest"><i class="fas fa-info-circle fa-lg" style="float: right"></i></a></td> #}
      <td>{{colis.dateRegister|date("d/m/Y")}}</td>
      <td>{% if colis.etat == "Attente" %}
          <a style="float:left;"><i class="far fa-clock"></i> &nbsp;&nbsp;En attente</a>
          <div style="float: right; margin-right: -12px; margin-top:-12px;  width: 10px; height: 10px; background-color: red"></div>
          {% elseif colis.etat == "Recupere" %}
          <a style="float:left;"><i class="fas fa-truck-loading"></i> &nbsp;Récupéré</a>
          <div style="float: right; margin-right: -12px; margin-top:-12px;  width: 10px; height: 10px; background-color: orange"></div>
          {% elseif colis.etat == "Transit" %}
          <a style="float:left;"><i class="fas fa-shipping-fast"></i> &nbsp;En transit</a>
          <div style="float: right; margin-right: -12px; margin-top:-12px;  width: 10px; height: 10px; background-color: yellow"></div>
          {% elseif colis.etat == "Livre" %}
          <a style="float:left;"><i class="fas fa-flag-checkered"></i> &nbsp;&nbsp;Livré</a>
          <div style="float: right; margin-right: -12px; margin-top:-12px;  width: 10px; height: 10px; background-color: green"></div>
          {% endif %}
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<br>



    {% block javascripts %}
    <script>
    // data-* attributes to scan when populating modal values
var ATTRIBUTES = ['myvalue'];

$('[data-toggle="modal"]').on('click', function (e) {
  // convert target (e.g. the button) to jquery object
  var $target = $(e.target);
  // modal targeted by the button
  var modalSelector = $target.data('target');
  
  // iterate over each possible data-* attribute
  ATTRIBUTES.forEach(function (attributeName) {
    // retrieve the dom element corresponding to current attribute
    var $modalAttribute = $(modalSelector + ' #modal-' + attributeName);
    var dataValue = $target.data(attributeName);
    
    // if the attribute value is empty, $target.data() will return undefined.
    // In JS boolean expressions return operands and are not coerced into
    // booleans. That way is dataValue is undefined, the left part of the following
    // Boolean expression evaluate to false and the empty string will be returned
    $modalAttribute.text(dataValue || '');
  });
});
    </script>
        <!-- header Bg -->
            <script>
                $(".navbar").removeClass("activeBgColorDevice");
                $(".navbar").addClass("activeBgColor");
            </script>
        <!-- End header Bg -->

        <!-- Scripts -->
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <!-- End Scripts -->
    {% endblock %}
{% endblock %}